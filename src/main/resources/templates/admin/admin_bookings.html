<!-- admin_bookings.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title th:text="${title}"></title>
    <th:block th:replace="~{fragments/common_css::commonCss}"></th:block>
  </head>
  <body>
    <header th:replace="~{fragments/admin_header::adminHeaderFragment}"></header>

    <div class="main-body">
      <main class="container py-5 d-flex justify-content-center">
        <div class="card shadow-lg w-100" style="max-width: 1100px">
          <div class="card-body">
            <h2 class="text-center mb-4">Booking Requests</h2>

            <div class="table-responsive">
              <table class="table table-bordered table-hover align-middle text-center">
                <thead class="table-dark">
                  <tr>
                    <th>ID</th>
                    <th>Service</th>
                    <th>Employee</th>
                    <th>Email</th>
                    <th>Message</th>
                    <th>Status</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr th:each="booking : ${bookings}">
                    <td th:text="${booking.id}"></td>
                    <td th:text="${booking.serviceType}"></td>
                    <td th:text="${booking.employeeType}"></td>
                    <td th:text="${booking.email}"></td>
                    <td th:text="${booking.userMessage}"></td>
                    <td>
                      <span th:if="${booking.status == 'approved'}" class="badge bg-success">Approved</span>
                      <span th:if="${booking.status == 'rejected'}" class="badge bg-danger">Rejected</span>
                      <span th:if="${booking.status == 'pending'}" class="badge bg-warning text-dark">Pending</span>
                    </td>
                    <td>
                      <a th:if="${booking.status == 'pending'}"
                         th:href="@{/admin/booking/actionForm/{id}(id=${booking.id})}"
                         class="btn btn-sm btn-primary">Action</a>
                      <span th:if="${booking.status != 'pending'}">â€”</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </main>
    </div>

    <footer th:replace="~{fragments/admin_footer::adminFooterFragment}"></footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
